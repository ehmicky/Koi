
                         
   ROADMAP-TEST-EXAMPLES  
                         



Own package

Programming language agnostic:
  - execution: shabang
  - IPC: standard streams

Has own binary:
  - use that in my own tests

Examples must be:
  - published
  - runnable:
     - i.e. `require()` might be different from what users would do outside of example
     - but users should be able to run them directly
     - i.e. tests will be able to run them too
  - without prior knowledge:
     - shebang
     - no way to pass arguments to interpreter
     - command should allow passing 0 arguments and no stdin:
        - arguments and stdin are ok providing they are optional

PWD:
  - unchanged and there are no options to change it
  - user should instead change PWD beforehand.

"Ready":
  - reads output and when a line is only printing "ready", kill the process
  - reason: long-running examples like servers
  - normalize "ready" to lowercase and remove anything but letters

Output order:
  - should not fail if snapshot differs only by line order
  - reason: it might be unpredictable

options.filter REGEXP_ARR
  - filter out part of the output from snapshot
  - line-wise
     - newline is either \n or \r\n
  - goal: unpredictable output like PID, current time or file paths

options.stream:
  - which stream to snapshot
     - also which one to filter out and check for "ready"
  - "both" (def), "stdout", "stderr" or NUM

options.files GLOB[_ARR]
  - example files to run/test
     - directory are recursed over
  - def: "./{example,examples}/**", "!*.{md,txt,...}"
     - try to find library with common file extensions and exclude/include accordingly

Specific error message when:
  - no executable permission
  - no shabang
  - shabang command not available
     - responsability of caller to select files according to current OS, e.g. *.cmd only on Windows, or runtine version, e.g. Node.js

Options.timeout NUM (def: 5 mins)

Options.maxConcurrency NUM

Should be run separately with gulp after gulp unit
  - reason: gulp unit gives more precise errors

Dependencies in examples??? E.g. winston in log-process-errors.

Check doc of test runners and testing for possible other features?

Consider whether should rely on ava or not?

name "test-examples"???

Catchphrase: "test your documentation's examples"???

Medium article: "your users want examples"???

Linking examples in API.md?
  - "Full example" link in each method?
  - Link method title instead?
  - Generic link to all examples in beginning of file?

Test embedded Markdown?
  - problem: lack of context?
      - after example: no console.log()
      - before example: no require()
 - also require() must be different path, e.g. require('.') instead of require('unix-permissions'l


